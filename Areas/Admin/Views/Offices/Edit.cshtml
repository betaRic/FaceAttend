@model FaceAttend.Areas.Admin.Models.OfficeEditVm
@{
    ViewBag.Title = "Edit Office";
    Layout = "~/Areas/Admin/Views/Shared/_AdminLayout.cshtml";

    var hasLeafletCss = System.IO.File.Exists(Server.MapPath("~/Content/vendor/leaflet/leaflet.min.css"));
    var hasLeafletJs = System.IO.File.Exists(Server.MapPath("~/Scripts/vendor/leaflet/leaflet.min.js"));
}

@section styles {
    @if (hasLeafletCss)
    {
        <link rel="stylesheet" href="~/Content/vendor/leaflet/leaflet.min.css" />
    }
    else
    {
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    }
}

<div class="admin-card">
    <div class="card-body">
        <h4 class="mb-3">Edit Office</h4>

        @using (Html.BeginForm())
        {
            @Html.AntiForgeryToken()
            @Html.HiddenFor(m => m.Id)

            @Html.Partial("_OfficeForm", Model)

            <div class="mt-3 d-flex gap-2">
                <button type="submit" class="btn btn-primary">Save</button>
                <a class="btn btn-outline-secondary" href="@Url.Action("Index")">Back</a>
            </div>
        }
    </div>
</div>

@section scripts {
    @if (hasLeafletJs)
    {
        <script src="~/Scripts/vendor/leaflet/leaflet.min.js"></script>
    }
    else
    {
        <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    }
    <script src="~/Scripts/admin-office-map.js"></script>
}
