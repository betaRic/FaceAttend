@{
    Layout = null;
    Response.Cache.SetCacheability(System.Web.HttpCacheability.NoCache);
    Response.Cache.SetNoStore();
}

<!doctype html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, max-age=0" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Kiosk - FaceAttend</title>

    <link href="~/Content/kiosk.css?v=@DateTime.UtcNow.Ticks" rel="stylesheet" />
</head>
<body data-return-url="@ViewBag.ReturnUrl" data-unlock-hint="@ViewBag.UnlockHint">
    @Html.AntiForgeryToken()

    <div id="kioskRoot">
        <video id="kioskVideo" playsinline autoplay muted></video>
        <canvas id="overlayCanvas"></canvas>

        <div id="topLeft">
            <div class="brand">FaceAttend</div>
            <div class="sub" id="officeLine">Locating...</div>
        </div>

        <div id="topCenter">
            <div id="timeLine">--:--:--</div>
            <div id="dateLine">----</div>
        </div>

        <div id="topRight">
            <div id="livenessLine">Live: --</div>
        </div>

        <div id="centerBlock" class="hidden">
            <div class="blockTitle">Not in allowed area.</div>
            <div class="blockSub">Move closer to a designated office.</div>
        </div>

        <div id="bottomCenter">
            <div id="mainPrompt">Ready.</div>
            <div id="subPrompt">Stand still. One face only.</div>
        </div>

        <div id="unlockBackdrop" class="hidden" aria-hidden="true">
            <div id="unlockModal" role="dialog" aria-modal="true" aria-labelledby="unlockTitle">
                <div class="unlockHeader">
                    <div id="unlockTitle" class="unlockTitle">Admin unlock</div>
                    <button id="unlockClose" type="button" class="unlockClose" aria-label="Close">Ã—</button>
                </div>
                <div class="unlockHint">Enter PIN. Press Enter to unlock. Esc to cancel.</div>

                <input id="unlockPin" class="unlockInput" type="password" inputmode="numeric" autocomplete="one-time-code" placeholder="Enter PIN" />
                <div id="unlockErr" class="unlockErr"></div>

                <div class="unlockActions">
                    <button id="unlockCancel" type="button" class="btnGhost">Cancel</button>
                    <button id="unlockSubmit" type="button" class="btnPrimary">Unlock</button>
                </div>
            </div>
        </div>
    </div>

    <script src="~/Scripts/jquery-3.7.1.min.js"></script>
    <script src="~/Scripts/kiosk.js?v=@DateTime.UtcNow.Ticks"></script>
</body>
</html>
